/*
Copyright (c) 2012 Chris Pettitt

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/(function(){function e(e,t){for(var n=0;n<e.length;++n)t(e[n])}function n(e){var t=[];for(var n in e)t.push(n);return t}function r(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return!0;return!1}function i(e,t){for(var n=0;n<e.length;++n)if(!t(e[n]))return!1;return!0}function g(e,t){var n={};for(var r=0;r<t.length;++r)n[t[r]]=r;return n}dig={},dig.version="0.0.5",dig.util={};var t=function(){return Object.defineProperty?function(e,t,n){Object.defineProperty(e,t,{value:n})}:function(e,t,n){e[t]=n}}(),s=dig.util.radixSort=function(e,t,n){function r(e,i){if(i===t)return e;var s=[];for(var o=0;o<e.length;++o){var u=e[o],a=n(i,u);if(a!==Math.floor(a)||a<0)throw new Error("Key is not a natural number: "+a);var f=s[a]=s[a]||[];f.push(u)}var l=[];for(var o=0;o<s.length;++o){var f=s[o];f!==undefined&&l.push(r(f,i+1))}return Array.prototype.concat.apply([],l)}return r(e,0)};dig.data={};var o=dig.data.PriorityQueue=function(){function e(){if(!(this instanceof e))throw new Error("Constructor called without using `new`");t(this,"_arr",[]),t(this,"_keyIndices",{})}function r(e,t){var n=e._arr,i=2*t,o=i+1,u=t;i<n.length&&(u=n[i].pri<n[u].pri?i:u,o<n.length&&(u=n[o].pri<n[u].pri?o:u),u!==t&&(s(e,t,u),r(e,u)))}function i(e,t){var n=e._arr,r=n[t].pri,i;while(t>0){i=t>>1;if(n[i].pri<r)break;s(e,t,i),t=i}}function s(e,t,n){var r=e._arr,i=e._keyIndices,s=r[t];r[t]=r[n],r[n]=s,i[r[t].key]=t,i[r[n].key]=n}return e.prototype={size:function(){return this._arr.length},keys:function(){return n(this._keyIndices)},has:function(e){return e in this._keyIndices},priority:function(e){var t=this._keyIndices[e];if(t!==undefined)return this._arr[t].pri},add:function(e,t){if(e in this._keyIndices)return!1;var n={key:e,pri:t},r=this._arr.length;return this._keyIndices[e]=r,this._arr.push(n),i(this,r),!0},min:function(){if(this.size()>0)return this._arr[0].key},removeMin:function(){s(this,0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],r(this,0),e.key},decrease:function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].pri)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].pri+" New: "+t);this._arr[n].pri=t,i(this,n)}},e}(),u=dig.data.Queue=function(){function e(n){if(!(this instanceof e))throw new Error("Constructor called without using `new`");t(this,"_data",{size:0,head:undefined,tail:undefined});if(n)for(var r=0;r<n.length;++r)this.enqueue(n[r])}return e.prototype={size:function(){return this._data.size},enqueue:function(e){var t=this._data;t.size===0?t.head=t.tail={value:e}:t.tail=t.tail.next={value:e},t.size++},dequeue:function(){var e=this._data;if(e.size>0){var t=e.head.value;return e.head=e.head.next,e.size--,t}}},e}(),a=dig.data.Stack=function(){function e(){if(!(this instanceof e))throw new Error("Constructor called without using `new`");t(this,"_data",{stack:[],onStack:{}})}return e.prototype={size:function(){return this._data.stack.length},push:function(e){var t=this._data.onStack[e]||0;this._data.onStack[e]=t+1,this._data.stack.push(e)},pop:function(){if(this.size()==0)throw new Error("stack underflow");var e=this._data.stack.pop(),t=this._data.onStack[e]-=1;return t||delete this._data.onStack[e],e},has:function(e){return e in this._data.onStack}},e}();dig.DiGraph=function(){function t(e,t){var n=e._nodes;if(t in n)return n[t];throw new Error("Node not in graph: "+t)}function r(e,t,n){var r=s(t,n);if(r in e._edges)return e._edges[r];throw new Error("No such edge: ("+t+", "+n+")")}function s(e,t){var n=e.toString(),r=t.toString();return n.length+":"+n+r}function o(e){if(e._immutable)throw new Error("Graph is immutable!")}function u(e,t){if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Attributes are not an object: "+e);for(var n in e)t[n]=e[n]}function a(e,t){var r=n(e),i=n(t);if(r.length!==i.length)return!1;for(var s in e)if(e[s]!==t[s])return!1;return!0}function f(t,n){e(t.nodes(),function(e){n.addNode(e,t.node(e))})}function l(e,t){return e.order()===t.order()&&i(e.nodes(),function(n){return t.hasNode(n)&&a(e.node(n),t.node(n))})}function c(e,t){return e.size()===t.size()&&i(e.edges(),function(n){return t.hasEdge(n.from,n.to)&&a(e.edge(n.from,n.to),t.edge(n.from,n.to))})}function h(){this._nodes={},this._edges={},this._order=0,this._size=0,this._immutable=!1}return h.prototype={order:function(){return this._order},size:function(){return this._size},equals:function(e){return e===this?!0:e instanceof h&&l(this,e)&&c(this,e)},copy:function(){var t=new h,n=this;return f(n,t),e(n.edges(),function(e){t.addEdge(e.from,e.to,n.edge(e.from,e.to))}),t},immutable:function(){var e=this.copy();return e._immutable=!0,e},nodes:function(){return n(this._nodes)},hasNode:function(e){return e in this._nodes},addNode:function(e,t){o(this);if(arguments.length<1||arguments.length>2)throw new Error("Too many or too few arguments. Argument count: "+arguments.length);var n=this._nodes[e],r=!1;return n||(n=this._nodes[e]={predecessors:{},successors:{},attrs:{}},this._order++,r=!0),arguments.length>=2&&u(t,n.attrs),r},addNodes:function(){o(this);for(var e=0;e<arguments.length;++e)this.addNode(arguments[e])},node:function(e){var n=t(this,e).attrs;if(this._immutable){var r={};u(n,r),n=r}return n},removeNode:function(t){o(this);var n=this;return this.hasNode(t)?(e(this.predecessors(t),function(e){n.removeEdge(e,t)}),e(this.successors(t),function(e){n.removeEdge(t,e)}),delete this._nodes[t],this._order--,!0):!1},edges:function(){var e=[];for(var t in this._edges){var n=this._edges[t];n={from:n.from,to:n.to,attrs:n.attrs};if(this._immutable){var r={};u(n.attrs,r),n.attrs=r}e.push(n)}return e},hasEdge:function(e,t){return s(e,t)in this._edges},addEdge:function(e,n,r){o(this);if(arguments.length<2||arguments.length>3)throw new Error("Too many or too few arguments. Argument count: "+arguments.length);var i=t(this,e),a=t(this,n),f=s(e,n),l=this._edges[f],c=!1;return l||(i.successors[n]=!0,a.predecessors[e]=!0,l=this._edges[f]={from:e,to:n,attrs:{}},this._size++,c=!0),arguments.length>=3&&u(r,l.attrs),c},addPath:function(){o(this);var e,t;if(arguments.length>1){e=arguments[0];for(var n=1;n<arguments.length;++n)t=arguments[n],this.addEdge(e,t),e=t}},edge:function(e,t){return r(this,e,t).attrs},removeEdge:function(e,t){o(this);var n=s(e,t);return n in this._edges?(delete this._nodes[e].successors[t],delete this._nodes[t].predecessors[e],delete this._edges[n],this._size--,!0):!1},indegree:function(e){return this.inEdges(e).length},outdegree:function(e){return this.outEdges(e).length},degree:function(e){return this.indegree(e)+this.outdegree(e)},inEdges:function(e){var t=[],n=this.predecessors(e);for(var r=0;r<n.length;r++)t.push({from:n[r],to:e});return t},outEdges:function(e){var t=[],n=this.successors(e);for(var r=0;r<n.length;r++)t.push({from:e,to:n[r]});return t},predecessors:function(e){return n(t(this,e).predecessors)},successors:function(e){return n(t(this,e).successors)},neighbors:function(e,r){var i=t(this,e),s={},o=r==="in"||r==="both",u=r===undefined||r==="out"||r==="both";if(!o&&!u)throw new Error("Invalid direction specified: "+r);if(o)for(var a in i.predecessors)s[a]=!0;if(u)for(var a in i.successors)s[a]=!0;return n(s)},isAcyclic:function(){var e=v(this),t=this;return i(e,function(e){var n=e[0];return e.length===1&&!t.hasEdge(n,n)})},sources:function(){var t=[],n=this;return e(this.nodes(),function(e){n.indegree(e)==0&&t.push(e)}),t},sinks:function(){var t=[],n=this;return e(this.nodes(),function(e){n.outdegree(e)===0&&t.push(e)}),t},isDirected:function(){return!0},undirected:function(t){var n=new dig.UGraph,r={};t===undefined&&(t=function(){return{}}),f(this,n);var i=this;return e(this.edges(),function(e){if(!(s(e.from,e.to)in r)){r[s(e.from,e.to)]=r[s(e.to,e.from)]=!0;var o=[e];i.hasEdge(e.to,e.from)&&o.push({from:e.to,to:e.from,attrs:i.edge(e.to,e.from)}),n.addEdge(e.from,e.to,t(o))}}),n},toString:function(){return b(this)}},h}(),dig.UGraph=function(){function t(e,t){return t.toString()>e.toString()?[e,t]:[t,e]}function n(){e(arguments,function(e){UGraph.prototype[e]=function(){return this._digraph[e].apply(this._digraph,arguments)}})}return UGraph=function(){this._digraph=new dig.DiGraph},UGraph.prototype={copy:function(){var e=new UGraph;return e._digraph=this._digraph.copy(),e},immutable:function(){var e=new UGraph;return e._digraph=this._digraph.immutable(),e},equals:function(e){return e instanceof UGraph&&this._digraph.equals(e._digraph)},hasEdge:function(e,n){return this._digraph.hasEdge.apply(this._digraph,t(e,n))},addEdge:function(e,n,r){var i=t(e,n);return arguments.length>=3&&i.push(r),this._digraph.addEdge.apply(this._digraph,i)},addPath:function(){var e,t;if(arguments.length>1){e=arguments[0];for(var n=1;n<arguments.length;++n)t=arguments[n],this.addEdge(e,t),e=t}},edge:function(e,n){return this._digraph.edge.apply(this._digraph,t(e,n))},removeEdge:function(e,n){return this._digraph.removeEdge.apply(this._digraph,t(e,n))},neighbors:function(e){return this._digraph.neighbors(e,"both")},isDirected:function(){return!1},directed:function(){var t=this._digraph.copy();return e(this.edges(),function(e){t.addEdge(e.from,e.to),t.addEdge(e.to,e.from)}),t},isAcyclic:function(){function n(r,s){return e[r]=!0,i(t.neighbors(r),function(t){return t in e?t===s:n(t,r)})}var e={},t=this;return i(this.nodes(),function(t){return t in e||n(t,undefined)})},isConnected:function(){return f(this).length==1},toString:function(){return b(this)}},n("order","size","nodes","hasNode","addNode","addNodes","node","removeNode","edges","degree"),UGraph}(),dig.alg={};var f=dig.alg.components=function(t){function i(n,s){n in r||(r[n]=!0,s.push(n),e(t.neighbors(n),function(e){i(e,s)}))}var n=[],r={};if(t.isDirected())throw new Error("components can only be used on undirected graphs");return e(t.nodes(),function(e){var t=[];i(e,t),t.length>0&&n.push(t)}),n},l=dig.alg.dijkstra=function(t,n){var r={},i=new o,s=Number.POSITIVE_INFINITY,u,a,f,l;e(t.nodes(),function(e){var t=e==n?0:s;r[e]={distance:t,predecessor:null},i.add(e,t)});while(i.size()>0){u=i.removeMin(),a=r[u];if(a.distance===s)break;e(t.neighbors(u),function(e){f=r[e],l=a.distance+1,l<f.distance&&(f.distance=l,f.predecessor=u,i.decrease(e,f.distance))})}return r},c=dig.alg.dijkstraAll=function(t){var n={};return e(t.nodes(),function(e){n[e]=l(t,e)}),n},h=dig.alg.floydWarshall=function(t){var n={},r=t.nodes(),i,s,o,u,a,f,l=Number.POSITIVE_INFINITY;return e(r,function(i){s=n[i]={},e(r,function(e){i==e?s[e]={distance:0,predecessor:null}:t.hasEdge(i,e)?s[e]={distance:1,predecessor:i}:s[e]={distance:l,predecessor:null}})}),e(r,function(t){o=n[t],e(r,function(l){s=n[l],e(r,function(e){u=s[t],a=o[e],f=s[e],i=u.distance+a.distance,i<f.distance&&(f.distance=i,f.predecessor=a.predecessor)})})}),n},p=dig.alg.levels=function(t,n){function s(e,t){r.enqueue(e),i[e]=t}var r=new u,i={};n.length===undefined&&(n=[n]),e(n,function(e){s(e,0)});var o,a;while(r.size()!==0)a=r.dequeue(),e(t.neighbors(a),function(e){e in i||s(e,i[a]+1)});return i},d=dig.alg.prim=function(t,n){var r={},i=new dig.UGraph,s=new o;if(t.isDirected())throw new Error("prim can only be used on undirected graphs");if(t.order()==0)return i;e(t.nodes(),function(e){s.add(e,Number.POSITIVE_INFINITY),i.addNode(e)}),s.decrease(t.nodes()[0],0);var u,a,f;while(s.size()>0)u=s.removeMin(),u in r&&i.addEdge(u,r[u]),e(t.neighbors(u),function(e){var t=s.priority(e);if(t!==undefined){var i=n(u,e);i<t&&(r[e]=u,s.decrease(e,i))}});return i},v=dig.alg.tarjan=function(t){function o(u){var a;a=i[u]={index:n,lowlink:n},n++,r.push(u),e(t.successors(u),function(e){e in i?r.has(e)&&(a.lowlink=Math.min(a.lowlink,i[e].index)):(o(e),a.lowlink=Math.min(a.lowlink,i[e].lowlink))});var f,l;if(a.lowlink==a.index){f=[];do l=r.pop(),f.push(l);while(l!==u);s.push(f)}}var n=0,r=new dig.data.Stack,i={},s=[];if(!t.isDirected())throw new Error("tarjan can only be called for directed graphs");return e(t.nodes(),function(e){e in i||o(e)}),s},m=dig.alg.topsort=function(t){function s(o){if(o in r)throw new Error("graph has at least one cycle!");o in n||(r[o]=!0,n[o]=!0,e(t.predecessors(o),function(e){s(e)}),delete r[o],i.push(o))}var n={},r={},i=[];if(!t.isDirected())throw new Error("topsort can only be called for directed graphs");var o=t.sinks();if(t.order()!=0&&o.length==0)throw new Error("graph has at least one cycle!");return e(t.sinks(),function(e){s(e)}),i};dig.dot={},dig.dot.alg={},dig.dot.layout=function(t){var n=t.copy();return dig.dot.layout.rank(n),dig.dot.layout.addDummyNodes(n),dig.dot.layout.order(n),dig.dot.layout.position().graph(n),e(n.nodes(),function(e){t.hasNode(e)&&(t.node(e).x=n.node(e).x,t.node(e).y=n.node(e).y)}),n},dig.dot.layout.addDummyNodes=function(t){e(t.edges(),function(e){var n=1,r="_d-"+e.from+"-"+e.to+"-",i=e.from,s=e.to,o=parseInt(t.node(i).rank),u=parseInt(t.node(s).rank),a=o<u?1:-1;t.removeEdge(i,s);for(o+=a;o!=u;o+=a){var f=r+n++;t.addNode(f,{rank:o,dummy:!0}),t.addEdge(i,f),i=f}t.addEdge(i,s)})},dig.dot.layout.crossCount=function(){return dig_dot_layout_bilayerCrossCount=function(t,n,r){var i=g(t,r),o=[];for(var u=0;u<n.length;++u){var a=[],f=n[u];e(t.neighbors(f,"both"),function(e){e in i&&a.push(i[e])}),o=o.concat(s(a,1,function(e,t){return t}))}var l=1;while(l<r.length)l<<=1;var c=2*l-1;l-=1;var h=[];for(var u=0;u<c;++u)h[u]=0;var p=0;for(var u=0;u<o.length;++u){var d=o[u]+l;h[d]++;while(d>0)d%2&&(p+=h[d+1]),d=d-1>>1,h[d]++}return p},function(e,t){var n=0;for(var r=1;r<t.length;++r)n+=dig_dot_layout_bilayerCrossCount(e,t[r-1],t[r]);return n}}(),dig.dot.layout.order=function(){function t(t){function i(s){if(s in r)return;r[s]=!0;var o=t.node(s).rank;o in n||(n[o]=[]),n[o].push(s),e(t.successors(s),function(e){i(e)})}var n=[],r={};return e(t.nodes(),function(e){t.node(e).rank===0&&i(e)}),n}function n(e,t,n){if(t%2)for(var i=1;i<n.length;++i)n[i]=r(e,n[i-1],n[i]);else for(var i=n.length-2;i>=0;--i)n[i]=r(e,n[i+1],n[i]);return n}function r(e,t,n){var r=i(e,t,n),s=[],o=n.slice(0);for(var u=0;u<o.length;++u){var a=o[u];r[a]===-1&&(s[u]=a,o[u]=null)}o.sort(function(e,t){return(e?r[e]:-1)-(t?r[t]:-1)});var f=0;for(var u=0;u<o.length;++u)if(o[u]!==null){while(s[f]!==undefined)++f;s[f]=o[u]}return s}function i(t,n,r){var i=g(t,n),s={};for(var o=0;o<r.length;++o){var u=-1,a=r[o],f=t.neighbors(r[o],"both");f.length>0&&(u=0,e(f,function(e){e in i&&(u=i[e])}),u/=f.length),s[a]=u}return s}return function(e){var r=24,i=t(e),s=i,o=dig.dot.layout.crossCount(e,i);for(var u=0;u<r;++u){i=n(e,u,i);var a=dig.dot.layout.crossCount(e,i);a>o&&(s=i,o=a)}for(var u=0;u<s.length;++u)for(var f=0;f<s[u].length;++f)e.node(s[u][f]).order=f;return s}}(),dig.dot.layout.position=function(){function r(e){return arguments.length>0?(t=e,b):t}function i(e){return arguments.length>0?(n=e,b):n}function o(t){var n=[];return e(t.nodes(),function(e){var r=t.node(e),i=n[r.rank];i===undefined&&(i=n[r.rank]=[]),i[r.order]=e}),n}function u(e){var t={};for(var n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t[e[n][r]]={rank:n,order:r};return t}function a(e,t,n){var r=f(e,t,n);return l(e,t,n,r),r}function f(t,n,r){var i={};e(t.nodes(),function(e){i[e]=[]});var o=null;for(var u=0;u<n.length;++u){var a=n[u];if(o!==null)for(var f=0;f<a.length;++f){var l=a[f],c=[];e(t.neighbors(l,"both"),function(e){r[e].rank===u-1&&c.push(e)});var h=s(c,1,function(e,t){return r[t].order});if(h.length>0){var p=(h.length-1)/2;i[l]=h.slice(Math.floor(p),Math.ceil(p)+1)}}o=a}return i}function l(t,n,r,i){var s=null;for(var o=0;o<n.length;++o){var u=n[o];if(s!==null){var a=0,f,l=0;for(var c=0;c<u.length;++c){var h=u[c],p=null;t.node(h).dummy&&e(i[h],function(e){t.node(e).dummy&&(p=e)});if(c+1===u.length||p!==null){f=s.length-1,p!==null&&(f=r[p]);for(;l<=c;++l){h=u[l];var d=i[h];for(var v=0;v<d.length;++v){var m=d[v],g=r[m].order;(g<a||g>f)&&(!t.node(h).dummy||!t.node(m).dummy)&&(d.splice(v,1),--v)}}a=f}}}s=u}}function c(t,n,r,i){var s={};e(t.nodes(),function(e){s[e]=e});var o={};e(t.nodes(),function(e){o[e]=e});for(var u=1;u<n.length;++u){var a=-1,f=n[u-1],l=n[u];for(var c=0;c<l.length;++c){var h=l[c];for(var p=0;p<i[h].length;++p){var d=i[h][p],v=r[d].order;o[h]==h&&a<v&&(o[d]=h,o[h]=s[h]=s[d],a=v)}}}return{root:s,align:o}}function h(n,r,i,s){function f(e){if(!a[e]){a[e]=0;var l=e;do{if(i[l].order>0){var c=r[i[l].rank][i[l].order-1],h=s.root[c];f(h),o[e]===e&&(o[e]=o[h]),o[e]!==o[h]?u[o[h]]=Math.min(u[o[h]],a[e]-a[h]-n.node(h).width-t):a[e]=Math.max(a[e],a[h]+n.node(h).width+t)}l=s.align[l]}while(l!==e)}}var o={};e(n.nodes(),function(e){o[e]=e});var u={};e(n.nodes(),function(e){u[e]=Number.POSITIVE_INFINITY});var a={};return e(n.nodes(),function(e){s.root[e]===e&&f(e)}),e(n.nodes(),function(e){a[e]=a[s.root[e]];var t=u[o[s.root[e]]];t<Number.POSITIVE_INFINITY&&(a[e]=a[e]+t)}),a}function p(e){for(var t=0;t<e.length;++t)e[t].reverse()}function d(e){e.reverse()}function v(t,n,r){var i=Number.NEGATIVE_INFINITY;e(t.nodes(),function(e){var n=r[e]+t.node(e).width;n>i&&(i=n)});for(var s=0;s<n.length;++s){var o=n[s],u=o[o.length-1];for(var a=0;a<o.length;++a){var f=o[a];r[f]=i-r[f]-t.node(f).width}}return r}function m(e){for(var t in e)e[t].reverse()}function g(e,t,n,r){var i=c(e,t,n,r);return h(e,t,n,i)}function y(t){e(t.nodes(),function(e){t.node(e).y=n*t.node(e).rank,"width"in t.node(e)||(t.node(e).width=t.node(e).dummy?1:50)});var r=o(t),i=r.slice(0),s=[],f=u(r),l=a(t,r,f);s.push(g(t,r,f,l)),p(r),f=u(r),m(l),s.push(v(t,i,g(t,r,f,l))),d(r),f=u(r),l=a(t,r,f),s.push(v(t,i,g(t,r,f,l))),p(r),f=u(r),m(l),s.push(g(t,r,f,l)),e(t.nodes(),function(e){var n=[];for(var r=0;r<s.length;++r)n.push(s[r][e]);n.sort(),t.node(e).x=(n[1]+n[2])/2})}var t=50,n=50,b={graph:y,nodeSep:r,rankSep:i};return b},dig.dot.layout.rank=function(){function t(t){function i(s){if(s in r)return;r[s]=!0,n[s]=!0,e(t.successors(s),function(e){e in n?(t.hasEdge(e,s)||t.addEdge(e,s),t.removeEdge(s,e)):i(e)}),delete n[s]}var n={},r={};e(t.nodes(),function(e){i(e)})}function n(t){var n=new o;e(t.nodes(),function(e){n.add(e,t.indegree(e))});var r=[],i=0;while(n.size()>0){for(var s=n.min();n.priority(s)===0;s=n.min())n.removeMin(),t.node(s).rank=i,r.push(s);if(r.length===0)throw new Error("Input graph is not acyclic!");e(r,function(r){e(t.successors(r),function(e){n.decrease(e,n.priority(e)-1)})}),r=[],i++}}return function(r){if(!r.isDirected())throw new Error("Input graph must be directed!");var i=r.copy();t(i),n(i),e(i.nodes(),function(e){r.node(e).rank=i.node(e).rank})}}();var y=dig.dot.read=function(t){function i(t){switch(t.type){case"node":var n=t.id;r.addNode(n,t.attrs);break;case"edge":var s;e(t.elems,function(e){i(e);switch(e.type){case"node":s&&r.addEdge(s,e.id,t.attrs),s=e.id;break;default:throw new Error("Unsupported type incident on edge: "+e.type)}});break;case"attr":break;default:throw new Error("Unsupported statement type: "+t.type)}}var n=dig_dot_parser.parse(t),r=n.type==="digraph"?new dig.DiGraph:new dig.UGraph;return e(n.stmts,function(e){i(e)}),r},b=dig.dot.write=function(){function t(e){return'"'+e.toString().replace('"','\\"')+'"'}function n(e,n){var r="    "+t(e),i=!1;for(var s in n)i?r+=",":(r+=" [",i=!0),r+=t(s)+"="+t(n[s]);return i&&(r+="]"),r+="\n",r}function r(e,n,r,i){var s="    "+t(n)+" "+e+" "+t(r),o=!1;for(var u in i)o?s+=",":(s+=" [",o=!0),s+=t(u)+"="+t(i[u]);return o&&(s+="]"),s+="\n",s}return function(t){var i=t.isDirected()?"->":"--",s=(t.isDirected()?"digraph":"graph")+" {\n";return e(t.nodes(),function(e){s+=n(e,t.node(e))}),e(t.edges(),function(e){s+=r(i,e.from,e.to,e.attrs)}),s+="}\n",s}}();dig_dot_parser=function(){function e(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(t,n){function a(e,t,n){var r=e,i=n-e.length;for(var s=0;s<i;s++)r=t+r;return r}function f(e){var t=e.charCodeAt(0),n,r;return t<=255?(n="x",r=2):(n="u",r=4),"\\"+n+a(t.toString(16).toUpperCase(),"0",r)}function l(e){if(i<o)return;i>o&&(o=i,u=[]),u.push(e)}function c(){var e,n,r,o,u,a,f,c,p,d,v,m,g,y,b,w;y=i,b=i,e=[],n=F();while(n!==null)e.push(n),n=F();if(e!==null){w=i,n=P(),n!==null?(r=F(),r!==null?n=[n,r]:(n=null,i=w)):(n=null,i=w),n=n!==null?n:"";if(n!==null){r=H();if(r!==null){o=[],u=F();while(u!==null)o.push(u),u=F();if(o!==null){u=L(),u=u!==null?u:"";if(u!==null){a=[],f=F();while(f!==null)a.push(f),f=F();if(a!==null){t.charCodeAt(i)===123?(f="{",i++):(f=null,s===0&&l('"{"'));if(f!==null){c=[],p=F();while(p!==null)c.push(p),p=F();if(c!==null){p=h(),p=p!==null?p:"";if(p!==null){d=[],v=F();while(v!==null)d.push(v),v=F();if(d!==null){t.charCodeAt(i)===125?(v="}",i++):(v=null,s===0&&l('"}"'));if(v!==null){m=[],g=F();while(g!==null)m.push(g),g=F();m!==null?e=[e,n,r,o,u,a,f,c,p,d,v,m]:(e=null,i=b)}else e=null,i=b}else e=null,i=b}else e=null,i=b}else e=null,i=b}else e=null,i=b}else e=null,i=b}else e=null,i=b}else e=null,i=b}else e=null,i=b}else e=null,i=b}else e=null,i=b;return e!==null&&(e=function(e,t,n,r){return{type:t,id:n,stmts:r}}(y,e[2],e[4],e[8])),e===null&&(i=y),e}function h(){var e,n,r,o,u,a,f,c,h,d,v;h=i,d=i,e=p();if(e!==null){n=[],r=F();while(r!==null)n.push(r),r=F();if(n!==null){t.charCodeAt(i)===59?(r=";",i++):(r=null,s===0&&l('";"')),r=r!==null?r:"";if(r!==null){o=[],v=i,u=[],a=F();while(a!==null)u.push(a),a=F();if(u!==null){a=p();if(a!==null){f=[],c=F();while(c!==null)f.push(c),c=F();f!==null?(t.charCodeAt(i)===59?(c=";",i++):(c=null,s===0&&l('";"')),c=c!==null?c:"",c!==null?u=[u,a,f,c]:(u=null,i=v)):(u=null,i=v)}else u=null,i=v}else u=null,i=v;while(u!==null){o.push(u),v=i,u=[],a=F();while(a!==null)u.push(a),a=F();if(u!==null){a=p();if(a!==null){f=[],c=F();while(c!==null)f.push(c),c=F();f!==null?(t.charCodeAt(i)===59?(c=";",i++):(c=null,s===0&&l('";"')),c=c!==null?c:"",c!==null?u=[u,a,f,c]:(u=null,i=v)):(u=null,i=v)}else u=null,i=v}else u=null,i=v}o!==null?e=[e,n,r,o]:(e=null,i=d)}else e=null,i=d}else e=null,i=d}else e=null,i=d;return e!==null&&(e=function(e,t,n){var r=[t];for(var i=0;i<n.length;++i)r.push(n[i][1]);return r}(h,e[0],e[3])),e===null&&(i=h),e}function p(){var e;return e=d(),e===null&&(e=y(),e===null&&(e=v(),e===null&&(e=g(),e===null&&(e=m())))),e}function d(){var e,t,n,r,s;r=i,s=i,e=M(),e===null&&(e=A(),e===null&&(e=O()));if(e!==null){t=[],n=F();while(n!==null)t.push(n),n=F();t!==null?(n=b(),n!==null?e=[e,t,n]:(e=null,i=s)):(e=null,i=s)}else e=null,i=s;return e!==null&&(e=function(e,t,n){return{type:"attr",attrType:t,attrs:n||{}}}(r,e[0],e[2])),e===null&&(i=r),e}function v(){var e,n,r,o,u,a,f;a=i,f=i,e=L();if(e!==null){n=[],r=F();while(r!==null)n.push(r),r=F();if(n!==null){t.charCodeAt(i)===61?(r="=",i++):(r=null,s===0&&l('"="'));if(r!==null){o=[],u=F();while(u!==null)o.push(u),u=F();o!==null?(u=L(),u!==null?e=[e,n,r,o,u]:(e=null,i=f)):(e=null,i=f)}else e=null,i=f}else e=null,i=f}else e=null,i=f;return e!==null&&(e=function(e,t,n){var r={};return r[t]=n,{type:"inlineAttr",attrs:r}}(a,e[0],e[4])),e===null&&(i=a),e}function m(){var e,t,n,r,s;r=i,s=i,e=N();if(e!==null){t=[],n=F();while(n!==null)t.push(n),n=F();t!==null?(n=b(),n=n!==null?n:"",n!==null?e=[e,t,n]:(e=null,i=s)):(e=null,i=s)}else e=null,i=s;return e!==null&&(e=function(e,t,n){return{type:"node",id:t,attrs:n||{}}}(r,e[0],e[2])),e===null&&(i=r),e}function g(){var e,t,n,r,s,o,u;o=i,u=i,e=T();if(e!==null){t=[],n=F();while(n!==null)t.push(n),n=F();if(t!==null){n=S();if(n!==null){r=[],s=F();while(s!==null)r.push(s),s=F();r!==null?(s=b(),s=s!==null?s:"",s!==null?e=[e,t,n,r,s]:(e=null,i=u)):(e=null,i=u)}else e=null,i=u}else e=null,i=u}else e=null,i=u;return e!==null&&(e=function(e,t,n,r){var i=[t];for(var s=0;s<n.length;++s)i.push(n[s]);return{type:"edge",elems:i,attrs:r||{}}}(o,e[0],e[2],e[4])),e===null&&(i=o),e}function y(){var e,n,r,o,u,a,f,c,p,d;f=i,c=i,p=i,e=D();if(e!==null){n=[],r=F();while(r!==null)n.push(r),r=F();if(n!==null){d=i,r=L();if(r!==null){o=[],u=F();while(u!==null)o.push(u),u=F();o!==null?r=[r,o]:(r=null,i=d)}else r=null,i=d;r=r!==null?r:"",r!==null?e=[e,n,r]:(e=null,i=p)}else e=null,i=p}else e=null,i=p;e=e!==null?e:"";if(e!==null){t.charCodeAt(i)===123?(n="{",i++):(n=null,s===0&&l('"{"'));if(n!==null){r=[],o=F();while(o!==null)r.push(o),o=F();if(r!==null){o=h();if(o!==null){u=[],a=F();while(a!==null)u.push(a),a=F();u!==null?(t.charCodeAt(i)===125?(a="}",i++):(a=null,s===0&&l('"}"')),a!==null?e=[e,n,r,o,u,a]:(e=null,i=c)):(e=null,i=c)}else e=null,i=c}else e=null,i=c}else e=null,i=c}else e=null,i=c;return e!==null&&(e=function(e,t,n){return t=t[2]||[],{type:"subgraph",id:t[0],stmts:n}}(f,e[0],e[3])),e===null&&(i=f),e}function b(){var e,t,n,r,s,o,u;s=i,o=i,e=w();if(e!==null){t=[],u=i,n=[],r=F();while(r!==null)n.push(r),r=F();n!==null?(r=w(),r!==null?n=[n,r]:(n=null,i=u)):(n=null,i=u);while(n!==null){t.push(n),u=i,n=[],r=F();while(r!==null)n.push(r),r=F();n!==null?(r=w(),r!==null?n=[n,r]:(n=null,i=u)):(n=null,i=u)}t!==null?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e!==null&&(e=function(e,t,n){var r=t;for(var i=0;i<n.length;++i)r=U(r,n[i][1]);return r}(s,e[0],e[1])),e===null&&(i=s),e}function w(){var e,n,r,o,u,a,f;a=i,f=i,t.charCodeAt(i)===91?(e="[",i++):(e=null,s===0&&l('"["'));if(e!==null){n=[],r=F();while(r!==null)n.push(r),r=F();if(n!==null){r=E(),r=r!==null?r:"";if(r!==null){o=[],u=F();while(u!==null)o.push(u),u=F();o!==null?(t.charCodeAt(i)===93?(u="]",i++):(u=null,s===0&&l('"]"')),u!==null?e=[e,n,r,o,u]:(e=null,i=f)):(e=null,i=f)}else e=null,i=f}else e=null,i=f}else e=null,i=f;return e!==null&&(e=function(e,t){return t}(a,e[2])),e===null&&(i=a),e}function E(){var e,n,r,o,u,a,f,c,h;f=i,c=i,e=x();if(e!==null){n=[],h=i,r=[],o=F();while(o!==null)r.push(o),o=F();if(r!==null){t.charCodeAt(i)===44?(o=",",i++):(o=null,s===0&&l('","')),o=o!==null?o:"";if(o!==null){u=[],a=F();while(a!==null)u.push(a),a=F();u!==null?(a=x(),a!==null?r=[r,o,u,a]:(r=null,i=h)):(r=null,i=h)}else r=null,i=h}else r=null,i=h;while(r!==null){n.push(r),h=i,r=[],o=F();while(o!==null)r.push(o),o=F();if(r!==null){t.charCodeAt(i)===44?(o=",",i++):(o=null,s===0&&l('","')),o=o!==null?o:"";if(o!==null){u=[],a=F();while(a!==null)u.push(a),a=F();u!==null?(a=x(),a!==null?r=[r,o,u,a]:(r=null,i=h)):(r=null,i=h)}else r=null,i=h}else r=null,i=h}n!==null?e=[e,n]:(e=null,i=c)}else e=null,i=c;return e!==null&&(e=function(e,t,n){var r=t;for(var i=0;i<n.length;++i)r=U(r,n[i][3]);return r}(f,e[0],e[1])),e===null&&(i=f),e}function S(){var e,n,r,o,u,a,f,c;a=i,f=i,c=i,t.substr(i,2)==="--"?(e="--",i+=2):(e=null,s===0&&l('"--"')),e!==null?(n=function(e){return R}(i)?null:"",n!==null?e=[e,n]:(e=null,i=c)):(e=null,i=c),e===null&&(c=i,t.substr(i,2)==="->"?(e="->",i+=2):(e=null,s===0&&l('"->"')),e!==null?(n=function(e){return R}(i)?"":null,n!==null?e=[e,n]:(e=null,i=c)):(e=null,i=c));if(e!==null){n=[],r=F();while(r!==null)n.push(r),r=F();if(n!==null){r=T();if(r!==null){o=[],u=F();while(u!==null)o.push(u),u=F();o!==null?(u=S(),u=u!==null?u:"",u!==null?e=[e,n,r,o,u]:(e=null,i=f)):(e=null,i=f)}else e=null,i=f}else e=null,i=f}else e=null,i=f;return e!==null&&(e=function(e,t,n){var r=[t];for(var i=0;i<n.length;++i)r.push(n[i]);return r}(a,e[2],e[4])),e===null&&(i=a),e}function x(){var e,n,r,o,u,a,f,c;a=i,f=i,e=L();if(e!==null){c=i,n=[],r=F();while(r!==null)n.push(r),r=F();if(n!==null){t.charCodeAt(i)===61?(r="=",i++):(r=null,s===0&&l('"="'));if(r!==null){o=[],u=F();while(u!==null)o.push(u),u=F();o!==null?(u=L(),u!==null?n=[n,r,o,u]:(n=null,i=c)):(n=null,i=c)}else n=null,i=c}else n=null,i=c;n=n!==null?n:"",n!==null?e=[e,n]:(e=null,i=f)}else e=null,i=f;return e!==null&&(e=function(e,t,n){var r={};return r[t]=n[3],r}(a,e[0],e[1])),e===null&&(i=a),e}function T(){var e,t;return e=y(),e===null&&(t=i,e=N(),e!==null&&(e=function(e,t){return{type:"node",id:t,attrs:{}}}(t,e)),e===null&&(i=t)),e}function N(){var e,t,n,r,s;r=i,s=i,e=L();if(e!==null){t=[],n=F();while(n!==null)t.push(n),n=F();t!==null?(n=C(),n=n!==null?n:"",n!==null?e=[e,t,n]:(e=null,i=s)):(e=null,i=s)}else e=null,i=s;return e!==null&&(e=function(e,t){return t}(r,e[0])),e===null&&(i=r),e}function C(){var e,n,r,o,u,a,f,c,h;c=i,t.charCodeAt(i)===58?(e=":",i++):(e=null,s===0&&l('":"'));if(e!==null){n=[],r=F();while(r!==null)n.push(r),r=F();if(n!==null){r=L();if(r!==null){o=[],u=F();while(u!==null)o.push(u),u=F();if(o!==null){h=i,t.charCodeAt(i)===58?(u=":",i++):(u=null,s===0&&l('":"'));if(u!==null){a=[],f=F();while(f!==null)a.push(f),f=F();a!==null?(f=k(),f!==null?u=[u,a,f]:(u=null,i=h)):(u=null,i=h)}else u=null,i=h;u=u!==null?u:"",u!==null?e=[e,n,r,o,u]:(e=null,i=c)}else e=null,i=c}else e=null,i=c}else e=null,i=c}else e=null,i=c;return e}function k(){var e;return t.charCodeAt(i)===110?(e="n",i++):(e=null,s===0&&l('"n"')),e===null&&(t.substr(i,2)==="ne"?(e="ne",i+=2):(e=null,s===0&&l('"ne"')),e===null&&(t.charCodeAt(i)===101?(e="e",i++):(e=null,s===0&&l('"e"')),e===null&&(t.substr(i,2)==="se"?(e="se",i+=2):(e=null,s===0&&l('"se"')),e===null&&(t.charCodeAt(i)===115?(e="s",i++):(e=null,s===0&&l('"s"')),e===null&&(t.substr(i,2)==="sw"?(e="sw",i+=2):(e=null,s===0&&l('"sw"')),e===null&&(t.charCodeAt(i)===119?(e="w",i++):(e=null,s===0&&l('"w"')),e===null&&(t.substr(i,2)==="nw"?(e="nw",i+=2):(e=null,s===0&&l('"nw"')),e===null&&(t.charCodeAt(i)===99?(e="c",i++):(e=null,s===0&&l('"c"')),e===null&&(t.charCodeAt(i)===95?(e="_",i++):(e=null,s===0&&l('"_"'))))))))))),e}function L(){var e,n,r,o,u,a,f,c;s++,a=i,f=i,/^[a-zA-Z\u0200-\u0377_]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,s===0&&l("[a-zA-Z\\u0200-\\u0377_]"));if(e!==null){n=[],/^[a-zA-Z\u0200-\u0377_0-9]/.test(t.charAt(i))?(r=t.charAt(i),i++):(r=null,s===0&&l("[a-zA-Z\\u0200-\\u0377_0-9]"));while(r!==null)n.push(r),/^[a-zA-Z\u0200-\u0377_0-9]/.test(t.charAt(i))?(r=t.charAt(i),i++):(r=null,s===0&&l("[a-zA-Z\\u0200-\\u0377_0-9]"));n!==null?e=[e,n]:(e=null,i=f)}else e=null,i=f;e!==null&&(e=function(e,t,n){return t+n.join("")}(a,e[0],e[1])),e===null&&(i=a);if(e===null){a=i,f=i,t.charCodeAt(i)===45?(e="-",i++):(e=null,s===0&&l('"-"')),e=e!==null?e:"";if(e!==null){t.charCodeAt(i)===46?(n=".",i++):(n=null,s===0&&l('"."'));if(n!==null){/^[0-9]/.test(t.charAt(i))?(o=t.charAt(i),i++):(o=null,s===0&&l("[0-9]"));if(o!==null){r=[];while(o!==null)r.push(o),/^[0-9]/.test(t.charAt(i))?(o=t.charAt(i),i++):(o=null,s===0&&l("[0-9]"))}else r=null;r!==null?e=[e,n,r]:(e=null,i=f)}else e=null,i=f}else e=null,i=f;e!==null&&(e=function(e,t,n,r){return t+n+r.join("")}(a,e[0],e[1],e[2])),e===null&&(i=a);if(e===null){a=i,f=i,t.charCodeAt(i)===45?(e="-",i++):(e=null,s===0&&l('"-"')),e=e!==null?e:"";if(e!==null){/^[0-9]/.test(t.charAt(i))?(r=t.charAt(i),i++):(r=null,s===0&&l("[0-9]"));if(r!==null){n=[];while(r!==null)n.push(r),/^[0-9]/.test(t.charAt(i))?(r=t.charAt(i),i++):(r=null,s===0&&l("[0-9]"))}else n=null;if(n!==null){c=i,t.charCodeAt(i)===46?(r=".",i++):(r=null,s===0&&l('"."'));if(r!==null){o=[],/^[0-9]/.test(t.charAt(i))?(u=t.charAt(i),i++):(u=null,s===0&&l("[0-9]"));while(u!==null)o.push(u),/^[0-9]/.test(t.charAt(i))?(u=t.charAt(i),i++):(u=null,s===0&&l("[0-9]"));o!==null?r=[r,o]:(r=null,i=c)}else r=null,i=c;r=r!==null?r:"",r!==null?e=[e,n,r]:(e=null,i=f)}else e=null,i=f}else e=null,i=f;e!==null&&(e=function(e,t,n,r){return t+n.join("")+(r[0]||"")+(r[1]||[]).join("")}(a,e[0],e[1],e[2])),e===null&&(i=a);if(e===null){a=i,f=i,t.charCodeAt(i)===34?(e='"',i++):(e=null,s===0&&l('"\\""'));if(e!==null){n=[],/^[^"]/.test(t.charAt(i))?(r=t.charAt(i),i++):(r=null,s===0&&l('[^"]'));while(r!==null)n.push(r),/^[^"]/.test(t.charAt(i))?(r=t.charAt(i),i++):(r=null,s===0&&l('[^"]'));n!==null?(t.charCodeAt(i)===34?(r='"',i++):(r=null,s===0&&l('"\\""')),r!==null?e=[e,n,r]:(e=null,i=f)):(e=null,i=f)}else e=null,i=f;e!==null&&(e=function(e,t){return t.join("")}(a,e[1])),e===null&&(i=a)}}}return s--
,s===0&&e===null&&l("identifier"),e}function A(){var e,n;return n=i,t.substr(i,4).toLowerCase()==="node"?(e=t.substr(i,4),i+=4):(e=null,s===0&&l('"node"')),e!==null&&(e=function(e,t){return t.toLowerCase()}(n,e)),e===null&&(i=n),e}function O(){var e,n;return n=i,t.substr(i,4).toLowerCase()==="edge"?(e=t.substr(i,4),i+=4):(e=null,s===0&&l('"edge"')),e!==null&&(e=function(e,t){return t.toLowerCase()}(n,e)),e===null&&(i=n),e}function M(){var e,n;return n=i,t.substr(i,5).toLowerCase()==="graph"?(e=t.substr(i,5),i+=5):(e=null,s===0&&l('"graph"')),e!==null&&(e=function(e,t){return t.toLowerCase()}(n,e)),e===null&&(i=n),e}function _(){var e,n;return n=i,t.substr(i,7).toLowerCase()==="digraph"?(e=t.substr(i,7),i+=7):(e=null,s===0&&l('"digraph"')),e!==null&&(e=function(e,t){return t.toLowerCase()}(n,e)),e===null&&(i=n),e}function D(){var e,n;return n=i,t.substr(i,8).toLowerCase()==="subgraph"?(e=t.substr(i,8),i+=8):(e=null,s===0&&l('"subgraph"')),e!==null&&(e=function(e,t){return t.toLowerCase()}(n,e)),e===null&&(i=n),e}function P(){var e,n;return n=i,t.substr(i,6).toLowerCase()==="strict"?(e=t.substr(i,6),i+=6):(e=null,s===0&&l('"strict"')),e!==null&&(e=function(e,t){return t.toLowerCase()}(n,e)),e===null&&(i=n),e}function H(){var e,t;return e=M(),e===null&&(t=i,e=_(),e!==null&&(e=function(e,t){return R=t==="digraph",t}(t,e)),e===null&&(i=t)),e}function B(){var e,n;s++,/^[ \t\r\n]/.test(t.charAt(i))?(n=t.charAt(i),i++):(n=null,s===0&&l("[ \\t\\r\\n]"));if(n!==null){e=[];while(n!==null)e.push(n),/^[ \t\r\n]/.test(t.charAt(i))?(n=t.charAt(i),i++):(n=null,s===0&&l("[ \\t\\r\\n]"))}else e=null;return s--,s===0&&e===null&&l("whitespace"),e}function j(){var e,n,r,o,u,a,f;s++,u=i,t.substr(i,2)==="//"?(e="//",i+=2):(e=null,s===0&&l('"//"'));if(e!==null){n=[],/^[^\n]/.test(t.charAt(i))?(r=t.charAt(i),i++):(r=null,s===0&&l("[^\\n]"));while(r!==null)n.push(r),/^[^\n]/.test(t.charAt(i))?(r=t.charAt(i),i++):(r=null,s===0&&l("[^\\n]"));n!==null?e=[e,n]:(e=null,i=u)}else e=null,i=u;if(e===null){u=i,t.substr(i,2)==="/*"?(e="/*",i+=2):(e=null,s===0&&l('"/*"'));if(e!==null){n=[],a=i,f=i,s++,t.substr(i,2)==="*/"?(r="*/",i+=2):(r=null,s===0&&l('"*/"')),s--,r===null?r="":(r=null,i=f),r!==null?(t.length>i?(o=t.charAt(i),i++):(o=null,s===0&&l("any character")),o!==null?r=[r,o]:(r=null,i=a)):(r=null,i=a);while(r!==null)n.push(r),a=i,f=i,s++,t.substr(i,2)==="*/"?(r="*/",i+=2):(r=null,s===0&&l('"*/"')),s--,r===null?r="":(r=null,i=f),r!==null?(t.length>i?(o=t.charAt(i),i++):(o=null,s===0&&l("any character")),o!==null?r=[r,o]:(r=null,i=a)):(r=null,i=a);n!==null?(t.substr(i,2)==="*/"?(r="*/",i+=2):(r=null,s===0&&l('"*/"')),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)}else e=null,i=u}return s--,s===0&&e===null&&l("comment"),e}function F(){var e;return e=B(),e===null&&(e=j()),e}function I(e){e.sort();var t=null,n=[];for(var r=0;r<e.length;r++)e[r]!==t&&(n.push(e[r]),t=e[r]);return n}function q(){var e=1,n=1,r=!1;for(var s=0;s<Math.max(i,o);s++){var u=t.charAt(s);u==="\n"?(r||e++,n=1,r=!1):u==="\r"||u==="\u2028"||u==="\u2029"?(e++,n=1,r=!0):(n++,r=!1)}return{line:e,column:n}}function U(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}var r={start:c,stmtList:h,stmt:p,attrStmt:d,inlineAttrStmt:v,nodeStmt:m,edgeStmt:g,subgraphStmt:y,attrList:b,attrListBlock:w,aList:E,edgeRHS:S,idDef:x,nodeIdOrSubgraph:T,nodeId:N,port:C,compassPt:k,id:L,node:A,edge:O,graph:M,digraph:_,subgraph:D,strict:P,graphType:H,whitespace:B,comment:j,_:F};if(n!==undefined){if(r[n]===undefined)throw new Error("Invalid rule name: "+e(n)+".")}else n="start";var i=0,s=0,o=0,u=[],R,z=r[n]();if(z===null||i!==t.length){var W=Math.max(i,o),X=W<t.length?t.charAt(W):null,V=q();throw new this.SyntaxError(I(u),X,W,V.line,V.column)}return z},toSource:function(){return this._source}};return t.SyntaxError=function(t,n,r,i,s){function o(t,n){var r,i;switch(t.length){case 0:r="end of input";break;case 1:r=t[0];break;default:r=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return i=n?e(n):"end of input","Expected "+r+" but "+i+" found."}this.name="SyntaxError",this.expected=t,this.found=n,this.message=o(t,n),this.offset=r,this.line=i,this.column=s},t.SyntaxError.prototype=Error.prototype,t}()})();